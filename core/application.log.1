2011-08-01 23:19:05,701 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:19:05,702 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:19:05,702 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:19:05,702 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:19:05,703 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:19:05,703 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:19:05,703 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:19:05,704 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:19:05,704 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:19:05,704 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:19:05,705 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:19:05,708 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:19:05,709 WARN main org.hibernate.type.TypeFactory - Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@53d3cf after already scoped org.hibernate.impl.SessionFactoryImpl@176de14
2011-08-01 23:19:05,731 INFO main org.hibernate.tuple.PojoInstantiator - no default (no-argument) constructor for class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity (class must be instantiated by Interceptor)
2011-08-01 23:19:05,811 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:19:24,539 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:20:48,334 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2011-08-01 23:20:48,342 INFO main org.hibernate.cfg.Environment - Hibernate 3.6.0.Final
2011-08-01 23:20:48,345 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2011-08-01 23:20:48,349 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2011-08-01 23:20:48,353 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2011-08-01 23:20:48,434 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.6.0.Final
2011-08-01 23:20:48,534 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.util.StoreOptionEntity
2011-08-01 23:20:48,557 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: StoreOptionEntity.findAll => SELECT option FROM MODE_OPTIONS AS option
2011-08-01 23:20:48,588 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.util.StoreOptionEntity on table MODE_OPTIONS
2011-08-01 23:20:48,650 INFO main org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring
2011-08-01 23:20:48,685 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:20:48,692 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:20:48,693 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:20:48,694 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:20:48,694 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:20:48,723 INFO main com.mchange.v2.log.MLog - MLog clients using log4j logging.
2011-08-01 23:20:48,886 INFO main com.mchange.v2.c3p0.C3P0Registry - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
2011-08-01 23:20:48,955 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@eab7bf77 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@b0c6be47 [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11ktmv212iotz9|13a34af, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@e7740d47 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11ktmv212iotz9|96212a, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11ktmv212iotz9|77eb97, numHelperThreads -> 3 ]
2011-08-01 23:20:49,275 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:20:49,275 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:20:49,302 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:20:49,314 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:20:49,316 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:20:49,318 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:20:49,318 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:20:49,318 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:20:49,318 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:20:49,318 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:20:49,319 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:20:49,319 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:20:49,319 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:20:49,320 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:20:49,322 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:20:49,323 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:20:49,323 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:20:49,323 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:20:49,323 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:20:49,324 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:20:49,329 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:20:49,330 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:20:49,330 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:20:49,339 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:20:49,339 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:20:49,339 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:20:49,339 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:20:49,341 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:20:49,359 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:20:49,638 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:20:50,079 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:20:50,113 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.WorkspaceEntity
2011-08-01 23:20:50,113 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAll => select ws from WorkspaceEntity as ws
2011-08-01 23:20:50,113 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findByName => select ws from WorkspaceEntity as ws where ws.name = :name
2011-08-01 23:20:50,113 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAllNames => select ws.name from WorkspaceEntity as ws
2011-08-01 23:20:50,113 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.WorkspaceEntity on table DNA_WORKSPACES
2011-08-01 23:20:50,119 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.NamespaceEntity
2011-08-01 23:20:50,119 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findAll => select ns from NamespaceEntity as ns
2011-08-01 23:20:50,119 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findByUri => select ns from NamespaceEntity as ns where ns.uri = ?1
2011-08-01 23:20:50,119 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.NamespaceEntity on table DNA_NAMESPACES
2011-08-01 23:20:50,121 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.LargeValueEntity
2011-08-01 23:20:50,121 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: LargeValueEntity.deleteAllUnused => delete LargeValueEntity lve where lve.hash not in (select values.hash from NodeEntity node join node.largeValues values)
2011-08-01 23:20:50,121 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.LargeValueEntity on table MODE_SIMPLE_LARGE_VALUES
2011-08-01 23:20:50,135 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.NodeEntity
2011-08-01 23:20:50,136 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findByNodeUuid => from NodeEntity as node where node.workspaceId = :workspaceId and node.nodeUuidString = :nodeUuidString
2011-08-01 23:20:50,136 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findInWorkspace => from NodeEntity as node where node.workspaceId = :workspaceId
2011-08-01 23:20:50,136 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.deleteAllInWorkspace => delete from NodeEntity where workspaceId = :workspaceId
2011-08-01 23:20:50,136 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.withLargeValues => from NodeEntity as node where node.workspaceId = :workspaceId and size(node.largeValues) > 0
2011-08-01 23:20:50,137 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.NodeEntity on table MODE_SIMPLE_NODE
2011-08-01 23:20:50,191 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.insertChildren => insert into SubgraphNodeEntity(queryId,nodeUuid,depth,parentIndexInParent,indexInParent) select parentNode.queryId, child.nodeUuidString, parentNode.depth+1, parentNode.indexInParent, child.indexInParent from NodeEntity child, SubgraphNodeEntity parentNode where child.workspaceId = :workspaceId and child.parent.nodeUuidString = parentNode.nodeUuid and parentNode.queryId = :queryId and parentNode.depth = :parentDepth
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getCount => select count(*) from SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getNodeEntitiesWithLargeValues => select props from NodeEntity props, SubgraphNodeEntity node where props.workspaceId = :workspaceId and props.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and size(props.largeValues) > 0
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getChildEntities => select child from NodeEntity child, SubgraphNodeEntity node where child.workspaceId = :workspaceId and child.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and node.depth <= :maxDepth order by node.depth, node.parentIndexInParent, node.indexInParent
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.clearParentReferences => update NodeEntity child set child.parent = null where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteChildEntities => delete NodeEntity child where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:20:50,192 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteByQueryId => delete SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:20:50,193 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity on table MODE_SUBGRAPH_NODES
2011-08-01 23:20:50,196 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity
2011-08-01 23:20:50,196 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity on table MODE_SUBGRAPH_QUERIES
2011-08-01 23:20:50,209 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: org.modeshape.connector.store.jpa.model.simple.NodeEntity.children -> MODE_SIMPLE_NODE
2011-08-01 23:20:50,213 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:20:50,217 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:20:50,218 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:20:50,218 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:20:50,218 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:20:50,260 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@e6cfa431 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@647ac7eb [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11ktmv212iotz9|1a93f38, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@b8254196 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11ktmv212iotz9|10872ce, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11ktmv212iotz9|29d75, numHelperThreads -> 3 ]
2011-08-01 23:20:50,279 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:20:50,280 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:20:50,280 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:20:50,280 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:20:50,280 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:20:50,281 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:20:50,281 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:20:50,282 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:20:50,282 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:20:50,282 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:20:50,283 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:20:50,286 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:20:50,287 WARN main org.hibernate.type.TypeFactory - Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@53d3cf after already scoped org.hibernate.impl.SessionFactoryImpl@176de14
2011-08-01 23:20:50,308 INFO main org.hibernate.tuple.PojoInstantiator - no default (no-argument) constructor for class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity (class must be instantiated by Interceptor)
2011-08-01 23:20:50,388 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:21:08,327 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:25:24,056 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2011-08-01 23:25:24,064 INFO main org.hibernate.cfg.Environment - Hibernate 3.6.0.Final
2011-08-01 23:25:24,066 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2011-08-01 23:25:24,075 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2011-08-01 23:25:24,079 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2011-08-01 23:25:24,159 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.6.0.Final
2011-08-01 23:25:24,260 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.util.StoreOptionEntity
2011-08-01 23:25:24,285 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: StoreOptionEntity.findAll => SELECT option FROM MODE_OPTIONS AS option
2011-08-01 23:25:24,316 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.util.StoreOptionEntity on table MODE_OPTIONS
2011-08-01 23:25:24,381 INFO main org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring
2011-08-01 23:25:24,416 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:25:24,423 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:25:24,426 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:25:24,426 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:25:24,426 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:25:24,456 INFO main com.mchange.v2.log.MLog - MLog clients using log4j logging.
2011-08-01 23:25:24,594 INFO main com.mchange.v2.c3p0.C3P0Registry - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
2011-08-01 23:25:24,666 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@fc5f8f32 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@b2d23ea [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11kzjm4ag4sgf|1263db, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@adcaa957 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11kzjm4ag4sgf|ffd135, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11kzjm4ag4sgf|8f2ca6, numHelperThreads -> 3 ]
2011-08-01 23:25:25,016 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:25:25,016 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:25:25,043 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:25:25,055 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:25:25,057 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:25:25,058 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:25:25,059 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:25:25,059 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:25:25,059 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:25:25,059 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:25:25,060 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:25:25,060 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:25:25,060 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:25:25,061 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:25:25,063 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:25:25,063 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:25:25,064 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:25:25,064 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:25:25,064 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:25:25,065 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:25:25,070 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:25:25,075 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:25:25,075 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:25:25,083 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:25:25,083 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:25:25,084 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:25:25,086 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:25:25,086 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:25:25,104 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:25:25,381 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:25:25,813 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:25:25,848 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.WorkspaceEntity
2011-08-01 23:25:25,848 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAll => select ws from WorkspaceEntity as ws
2011-08-01 23:25:25,848 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findByName => select ws from WorkspaceEntity as ws where ws.name = :name
2011-08-01 23:25:25,849 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAllNames => select ws.name from WorkspaceEntity as ws
2011-08-01 23:25:25,849 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.WorkspaceEntity on table DNA_WORKSPACES
2011-08-01 23:25:25,854 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.NamespaceEntity
2011-08-01 23:25:25,855 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findAll => select ns from NamespaceEntity as ns
2011-08-01 23:25:25,855 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findByUri => select ns from NamespaceEntity as ns where ns.uri = ?1
2011-08-01 23:25:25,855 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.NamespaceEntity on table DNA_NAMESPACES
2011-08-01 23:25:25,856 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.LargeValueEntity
2011-08-01 23:25:25,857 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: LargeValueEntity.deleteAllUnused => delete LargeValueEntity lve where lve.hash not in (select values.hash from NodeEntity node join node.largeValues values)
2011-08-01 23:25:25,857 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.LargeValueEntity on table MODE_SIMPLE_LARGE_VALUES
2011-08-01 23:25:25,871 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.NodeEntity
2011-08-01 23:25:25,871 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findByNodeUuid => from NodeEntity as node where node.workspaceId = :workspaceId and node.nodeUuidString = :nodeUuidString
2011-08-01 23:25:25,871 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findInWorkspace => from NodeEntity as node where node.workspaceId = :workspaceId
2011-08-01 23:25:25,872 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.deleteAllInWorkspace => delete from NodeEntity where workspaceId = :workspaceId
2011-08-01 23:25:25,872 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.withLargeValues => from NodeEntity as node where node.workspaceId = :workspaceId and size(node.largeValues) > 0
2011-08-01 23:25:25,872 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.NodeEntity on table MODE_SIMPLE_NODE
2011-08-01 23:25:25,927 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity
2011-08-01 23:25:25,928 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.insertChildren => insert into SubgraphNodeEntity(queryId,nodeUuid,depth,parentIndexInParent,indexInParent) select parentNode.queryId, child.nodeUuidString, parentNode.depth+1, parentNode.indexInParent, child.indexInParent from NodeEntity child, SubgraphNodeEntity parentNode where child.workspaceId = :workspaceId and child.parent.nodeUuidString = parentNode.nodeUuid and parentNode.queryId = :queryId and parentNode.depth = :parentDepth
2011-08-01 23:25:25,928 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getCount => select count(*) from SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:25:25,928 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getNodeEntitiesWithLargeValues => select props from NodeEntity props, SubgraphNodeEntity node where props.workspaceId = :workspaceId and props.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and size(props.largeValues) > 0
2011-08-01 23:25:25,928 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getChildEntities => select child from NodeEntity child, SubgraphNodeEntity node where child.workspaceId = :workspaceId and child.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and node.depth <= :maxDepth order by node.depth, node.parentIndexInParent, node.indexInParent
2011-08-01 23:25:25,928 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.clearParentReferences => update NodeEntity child set child.parent = null where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:25:25,929 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteChildEntities => delete NodeEntity child where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:25:25,929 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteByQueryId => delete SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:25:25,929 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity on table MODE_SUBGRAPH_NODES
2011-08-01 23:25:25,932 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity
2011-08-01 23:25:25,932 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity on table MODE_SUBGRAPH_QUERIES
2011-08-01 23:25:25,941 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: org.modeshape.connector.store.jpa.model.simple.NodeEntity.children -> MODE_SIMPLE_NODE
2011-08-01 23:25:25,945 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:25:25,948 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:25:25,949 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:25:25,949 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:25:25,949 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:25:25,983 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@fe3f6ece [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@5972ac0b [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11kzjm4ag4sgf|11fc4b8, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@368fcb6 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11kzjm4ag4sgf|1e5ba24, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11kzjm4ag4sgf|7c218e, numHelperThreads -> 3 ]
2011-08-01 23:25:26,003 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:25:26,003 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:25:26,003 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:25:26,004 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:25:26,004 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:25:26,005 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:25:26,005 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:25:26,006 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:25:26,006 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:25:26,007 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:25:26,007 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:25:26,011 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:25:26,011 WARN main org.hibernate.type.TypeFactory - Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@6014f7 after already scoped org.hibernate.impl.SessionFactoryImpl@9ab0
2011-08-01 23:25:26,046 INFO main org.hibernate.tuple.PojoInstantiator - no default (no-argument) constructor for class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity (class must be instantiated by Interceptor)
2011-08-01 23:25:26,115 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:25:44,802 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:27:30,645 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2011-08-01 23:27:30,654 INFO main org.hibernate.cfg.Environment - Hibernate 3.6.0.Final
2011-08-01 23:27:30,656 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2011-08-01 23:27:30,661 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2011-08-01 23:27:30,665 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2011-08-01 23:27:30,747 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.6.0.Final
2011-08-01 23:27:30,853 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.util.StoreOptionEntity
2011-08-01 23:27:30,877 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: StoreOptionEntity.findAll => SELECT option FROM MODE_OPTIONS AS option
2011-08-01 23:27:30,909 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.util.StoreOptionEntity on table MODE_OPTIONS
2011-08-01 23:27:30,972 INFO main org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring
2011-08-01 23:27:30,998 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:27:31,006 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:27:31,008 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:27:31,008 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:27:31,008 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:27:31,041 INFO main com.mchange.v2.log.MLog - MLog clients using log4j logging.
2011-08-01 23:27:31,178 INFO main com.mchange.v2.c3p0.C3P0Registry - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
2011-08-01 23:27:31,272 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@ded2b4a1 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@18b1028e [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11l29ad1ha36kq|58dd2d, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@1676b905 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l29ad1ha36kq|5b675e, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l29ad1ha36kq|10c3a08, numHelperThreads -> 3 ]
2011-08-01 23:27:31,586 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:27:31,586 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:27:31,613 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:27:31,625 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:27:31,627 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:27:31,629 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:27:31,629 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:27:31,629 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:27:31,629 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:27:31,629 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:27:31,630 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:27:31,630 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:27:31,630 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:27:31,631 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:27:31,631 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:27:31,631 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:27:31,632 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:27:31,632 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:27:31,632 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:27:31,634 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:27:31,634 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:27:31,634 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:27:31,634 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:27:31,634 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:27:31,635 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:27:31,640 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:27:31,642 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:27:31,642 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:27:31,650 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:27:31,650 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:27:31,650 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:27:31,654 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:27:31,654 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:27:31,671 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:27:31,953 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:27:32,392 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:27:32,426 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.WorkspaceEntity
2011-08-01 23:27:32,426 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAll => select ws from WorkspaceEntity as ws
2011-08-01 23:27:32,426 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findByName => select ws from WorkspaceEntity as ws where ws.name = :name
2011-08-01 23:27:32,427 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAllNames => select ws.name from WorkspaceEntity as ws
2011-08-01 23:27:32,427 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.WorkspaceEntity on table DNA_WORKSPACES
2011-08-01 23:27:32,432 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.NamespaceEntity
2011-08-01 23:27:32,432 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findAll => select ns from NamespaceEntity as ns
2011-08-01 23:27:32,433 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findByUri => select ns from NamespaceEntity as ns where ns.uri = ?1
2011-08-01 23:27:32,433 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.NamespaceEntity on table DNA_NAMESPACES
2011-08-01 23:27:32,434 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.LargeValueEntity
2011-08-01 23:27:32,434 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: LargeValueEntity.deleteAllUnused => delete LargeValueEntity lve where lve.hash not in (select values.hash from NodeEntity node join node.largeValues values)
2011-08-01 23:27:32,435 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.LargeValueEntity on table MODE_SIMPLE_LARGE_VALUES
2011-08-01 23:27:32,450 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.NodeEntity
2011-08-01 23:27:32,450 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findByNodeUuid => from NodeEntity as node where node.workspaceId = :workspaceId and node.nodeUuidString = :nodeUuidString
2011-08-01 23:27:32,450 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findInWorkspace => from NodeEntity as node where node.workspaceId = :workspaceId
2011-08-01 23:27:32,450 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.deleteAllInWorkspace => delete from NodeEntity where workspaceId = :workspaceId
2011-08-01 23:27:32,450 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.withLargeValues => from NodeEntity as node where node.workspaceId = :workspaceId and size(node.largeValues) > 0
2011-08-01 23:27:32,451 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.NodeEntity on table MODE_SIMPLE_NODE
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.insertChildren => insert into SubgraphNodeEntity(queryId,nodeUuid,depth,parentIndexInParent,indexInParent) select parentNode.queryId, child.nodeUuidString, parentNode.depth+1, parentNode.indexInParent, child.indexInParent from NodeEntity child, SubgraphNodeEntity parentNode where child.workspaceId = :workspaceId and child.parent.nodeUuidString = parentNode.nodeUuid and parentNode.queryId = :queryId and parentNode.depth = :parentDepth
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getCount => select count(*) from SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getNodeEntitiesWithLargeValues => select props from NodeEntity props, SubgraphNodeEntity node where props.workspaceId = :workspaceId and props.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and size(props.largeValues) > 0
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getChildEntities => select child from NodeEntity child, SubgraphNodeEntity node where child.workspaceId = :workspaceId and child.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and node.depth <= :maxDepth order by node.depth, node.parentIndexInParent, node.indexInParent
2011-08-01 23:27:32,507 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.clearParentReferences => update NodeEntity child set child.parent = null where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:27:32,508 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteChildEntities => delete NodeEntity child where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:27:32,508 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteByQueryId => delete SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:27:32,508 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity on table MODE_SUBGRAPH_NODES
2011-08-01 23:27:32,511 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity
2011-08-01 23:27:32,511 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity on table MODE_SUBGRAPH_QUERIES
2011-08-01 23:27:32,521 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: org.modeshape.connector.store.jpa.model.simple.NodeEntity.children -> MODE_SIMPLE_NODE
2011-08-01 23:27:32,524 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:27:32,528 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:27:32,529 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:27:32,529 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:27:32,529 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:27:32,562 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@cb53a642 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@e12f7fe5 [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11l29ad1ha36kq|10872ce, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@87d29021 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l29ad1ha36kq|1cac3fa, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l29ad1ha36kq|ac4d3b, numHelperThreads -> 3 ]
2011-08-01 23:27:32,580 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:27:32,580 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:27:32,580 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:27:32,580 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:27:32,581 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:27:32,581 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:27:32,581 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:27:32,582 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:27:32,582 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:27:32,583 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:27:32,583 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:27:32,586 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:27:32,587 WARN main org.hibernate.type.TypeFactory - Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@178a7d9 after already scoped org.hibernate.impl.SessionFactoryImpl@53d3cf
2011-08-01 23:27:32,615 INFO main org.hibernate.tuple.PojoInstantiator - no default (no-argument) constructor for class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity (class must be instantiated by Interceptor)
2011-08-01 23:27:32,690 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:27:50,946 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:29:28,166 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2011-08-01 23:29:28,175 INFO main org.hibernate.cfg.Environment - Hibernate 3.6.0.Final
2011-08-01 23:29:28,177 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2011-08-01 23:29:28,182 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2011-08-01 23:29:28,185 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2011-08-01 23:29:28,271 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.6.0.Final
2011-08-01 23:29:28,383 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.util.StoreOptionEntity
2011-08-01 23:29:28,408 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: StoreOptionEntity.findAll => SELECT option FROM MODE_OPTIONS AS option
2011-08-01 23:29:28,441 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.util.StoreOptionEntity on table MODE_OPTIONS
2011-08-01 23:29:28,504 INFO main org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring
2011-08-01 23:29:28,536 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:29:28,544 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:29:28,546 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:29:28,546 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:29:28,546 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:29:28,576 INFO main com.mchange.v2.log.MLog - MLog clients using log4j logging.
2011-08-01 23:29:28,729 INFO main com.mchange.v2.c3p0.C3P0Registry - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
2011-08-01 23:29:28,806 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@9bdc8255 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@aaaa170d [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11l4rzgb5nwyo|1263db, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@4d479c7a [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l4rzgb5nwyo|ffd135, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l4rzgb5nwyo|8f2ca6, numHelperThreads -> 3 ]
2011-08-01 23:29:29,134 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:29:29,134 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:29:29,226 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:29:29,242 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:29:29,244 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:29:29,246 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:29:29,246 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:29:29,246 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:29:29,246 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:29:29,246 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:29:29,247 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:29:29,247 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:29:29,247 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:29:29,248 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:29:29,249 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:29:29,249 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:29:29,249 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:29:29,249 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:29:29,249 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:29:29,251 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:29:29,252 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:29:29,252 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:29:29,252 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:29:29,252 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:29:29,253 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:29:29,258 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:29:29,259 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:29:29,260 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:29:29,270 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:29:29,270 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:29:29,270 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:29:29,271 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:29:29,271 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:29:29,289 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:29:29,514 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:29:29,960 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-01 23:29:29,994 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.WorkspaceEntity
2011-08-01 23:29:29,994 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAll => select ws from WorkspaceEntity as ws
2011-08-01 23:29:29,995 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findByName => select ws from WorkspaceEntity as ws where ws.name = :name
2011-08-01 23:29:29,995 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: WorkspaceEntity.findAllNames => select ws.name from WorkspaceEntity as ws
2011-08-01 23:29:29,995 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.WorkspaceEntity on table DNA_WORKSPACES
2011-08-01 23:29:30,000 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.common.NamespaceEntity
2011-08-01 23:29:30,001 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findAll => select ns from NamespaceEntity as ns
2011-08-01 23:29:30,001 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NamespaceEntity.findByUri => select ns from NamespaceEntity as ns where ns.uri = ?1
2011-08-01 23:29:30,001 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.common.NamespaceEntity on table DNA_NAMESPACES
2011-08-01 23:29:30,003 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.LargeValueEntity
2011-08-01 23:29:30,003 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: LargeValueEntity.deleteAllUnused => delete LargeValueEntity lve where lve.hash not in (select values.hash from NodeEntity node join node.largeValues values)
2011-08-01 23:29:30,003 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.LargeValueEntity on table MODE_SIMPLE_LARGE_VALUES
2011-08-01 23:29:30,017 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.NodeEntity
2011-08-01 23:29:30,017 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findByNodeUuid => from NodeEntity as node where node.workspaceId = :workspaceId and node.nodeUuidString = :nodeUuidString
2011-08-01 23:29:30,017 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.findInWorkspace => from NodeEntity as node where node.workspaceId = :workspaceId
2011-08-01 23:29:30,017 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.deleteAllInWorkspace => delete from NodeEntity where workspaceId = :workspaceId
2011-08-01 23:29:30,017 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: NodeEntity.withLargeValues => from NodeEntity as node where node.workspaceId = :workspaceId and size(node.largeValues) > 0
2011-08-01 23:29:30,018 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.NodeEntity on table MODE_SIMPLE_NODE
2011-08-01 23:29:30,076 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity
2011-08-01 23:29:30,076 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.insertChildren => insert into SubgraphNodeEntity(queryId,nodeUuid,depth,parentIndexInParent,indexInParent) select parentNode.queryId, child.nodeUuidString, parentNode.depth+1, parentNode.indexInParent, child.indexInParent from NodeEntity child, SubgraphNodeEntity parentNode where child.workspaceId = :workspaceId and child.parent.nodeUuidString = parentNode.nodeUuid and parentNode.queryId = :queryId and parentNode.depth = :parentDepth
2011-08-01 23:29:30,076 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getCount => select count(*) from SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getNodeEntitiesWithLargeValues => select props from NodeEntity props, SubgraphNodeEntity node where props.workspaceId = :workspaceId and props.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and size(props.largeValues) > 0
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.getChildEntities => select child from NodeEntity child, SubgraphNodeEntity node where child.workspaceId = :workspaceId and child.nodeUuidString = node.nodeUuid and node.queryId = :queryId and node.depth >= :depth and node.depth <= :maxDepth order by node.depth, node.parentIndexInParent, node.indexInParent
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.clearParentReferences => update NodeEntity child set child.parent = null where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteChildEntities => delete NodeEntity child where child.workspaceId = :workspaceId and child.nodeUuidString in ( select node.nodeUuid from SubgraphNodeEntity node where node.queryId = :queryId and node.depth >= :depth )
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SubgraphNodeEntity.deleteByQueryId => delete SubgraphNodeEntity where queryId = :queryId
2011-08-01 23:29:30,077 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphNodeEntity on table MODE_SUBGRAPH_NODES
2011-08-01 23:29:30,080 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity
2011-08-01 23:29:30,081 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity on table MODE_SUBGRAPH_QUERIES
2011-08-01 23:29:30,091 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: org.modeshape.connector.store.jpa.model.simple.NodeEntity.children -> MODE_SIMPLE_NODE
2011-08-01 23:29:30,094 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-01 23:29:30,098 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-01 23:29:30,099 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-01 23:29:30,099 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-01 23:29:30,099 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-01 23:29:30,133 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@9dbc61f1 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@a9941d48 [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h11l4rzgb5nwyo|11fc4b8, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@538a6df3 [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l4rzgb5nwyo|1e5ba24, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h11l4rzgb5nwyo|7c218e, numHelperThreads -> 3 ]
2011-08-01 23:29:30,150 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-01 23:29:30,150 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-01 23:29:30,150 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-01 23:29:30,150 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-01 23:29:30,151 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-01 23:29:30,151 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-01 23:29:30,151 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-01 23:29:30,152 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2011-08-01 23:29:30,152 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
2011-08-01 23:29:30,153 INFO main org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2011-08-01 23:29:30,153 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2011-08-01 23:29:30,159 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2011-08-01 23:29:30,159 WARN main org.hibernate.type.TypeFactory - Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@6014f7 after already scoped org.hibernate.impl.SessionFactoryImpl@9ab0
2011-08-01 23:29:30,189 INFO main org.hibernate.tuple.PojoInstantiator - no default (no-argument) constructor for class: org.modeshape.connector.store.jpa.model.simple.SubgraphQueryEntity (class must be instantiated by Interceptor)
2011-08-01 23:29:30,265 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2011-08-01 23:29:48,768 INFO main org.hibernate.impl.SessionFactoryImpl - closing
2011-08-10 23:35:31,252 INFO main org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@47393f: startup date [Wed Aug 10 23:35:31 BST 2011]; root of context hierarchy
2011-08-10 23:35:31,392 INFO main org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [application-Context.xml]
2011-08-11 01:07:23,245 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2011-08-11 01:07:23,297 INFO main org.hibernate.cfg.Environment - Hibernate 3.6.0.Final
2011-08-11 01:07:23,301 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2011-08-11 01:07:23,307 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2011-08-11 01:07:23,313 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2011-08-11 01:07:23,604 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.6.0.Final
2011-08-11 01:07:23,783 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: org.modeshape.connector.store.jpa.util.StoreOptionEntity
2011-08-11 01:07:23,810 INFO main org.hibernate.cfg.annotations.QueryBinder - Binding Named query: StoreOptionEntity.findAll => SELECT option FROM MODE_OPTIONS AS option
2011-08-11 01:07:23,841 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity org.modeshape.connector.store.jpa.util.StoreOptionEntity on table MODE_OPTIONS
2011-08-11 01:07:23,914 INFO main org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring
2011-08-11 01:07:23,949 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2011-08-11 01:07:23,956 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
2011-08-11 01:07:23,958 INFO main org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/cms
2011-08-11 01:07:23,958 INFO main org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
2011-08-11 01:07:23,958 INFO main org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: true
2011-08-11 01:07:24,085 INFO main com.mchange.v2.log.MLog - MLog clients using log4j logging.
2011-08-11 01:07:24,274 INFO main com.mchange.v2.c3p0.C3P0Registry - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
2011-08-11 01:07:24,361 INFO main com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@6d3ffdd9 [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@7c0d9291 [ acquireIncrement -> 1, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge51d8h1ejldk0sewrbo|1263db, idleConnectionTestPeriod -> 180, initialPoolSize -> 0, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 600, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 2, maxStatements -> 100, maxStatementsPerConnection -> 0, minPoolSize -> 0, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@1eab17fe [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h1ejldk0sewrbo|ffd135, jdbcUrl -> jdbc:mysql://localhost:3306/cms, properties -> {user=******, password=******, autocommit=true, release_mode=auto} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge51d8h1ejldk0sewrbo|8f2ca6, numHelperThreads -> 3 ]
2011-08-11 01:07:25,220 INFO main org.hibernate.cfg.SettingsFactory - Database ->
       name : MySQL
    version : 5.0.45-community-nt
      major : 5
      minor : 0
2011-08-11 01:07:25,220 INFO main org.hibernate.cfg.SettingsFactory - Driver ->
       name : MySQL-AB JDBC Driver
    version : mysql-connector-java-5.1.13 ( Revision: ${bzr.revision-id} )
      major : 5
      minor : 1
2011-08-11 01:07:25,347 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2011-08-11 01:07:25,363 INFO main org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
2011-08-11 01:07:25,365 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2011-08-11 01:07:25,366 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2011-08-11 01:07:25,366 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2011-08-11 01:07:25,366 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2011-08-11 01:07:25,366 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2011-08-11 01:07:25,367 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2011-08-11 01:07:25,367 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2011-08-11 01:07:25,368 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2011-08-11 01:07:25,368 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2011-08-11 01:07:25,368 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2011-08-11 01:07:25,369 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2011-08-11 01:07:25,369 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled
2011-08-11 01:07:25,370 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2011-08-11 01:07:25,370 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2011-08-11 01:07:25,370 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2011-08-11 01:07:25,385 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2011-08-11 01:07:25,385 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
